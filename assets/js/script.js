// JavaScript Document

var  lampada = $('.lampada'), video = '', animate = { entrada: function(){ animate.zerar(); animate.contaChar(); num_img = 1, slide = setInterval(function(){ $('.ei' + num_img) .addClass('entrada_slide') .removeClass('entrada_img'); num_img++;				 if(num_img>7){ clearInterval(slide); animate.width($('.cont_campo'));	 } },400); $('.string').focus(function(e) { var txt = $(this).val(); if(txt=="Type your message") $(this).val(''); }); }, width: function(sel){ sel.css('width',"90%"); setTimeout(function(){ animate.fade(sel.find('.celula')); animate.follow(); $('.cont_campo input').focus();			 },1000) }, fade: function(sel){ sel .fadeIn() .css('display','table-cell') }, follow: function(){ $('.cont_follow .follow_icone').css('transform','scale(1)');	 $('.cont_follow .follow_hash').css('opacity',1)	 }, contaChar: function(){ var numChar = 0; $('.string') .keyup(function(e) { var  str = $('.string').val(), txt = ""; var patt = new RegExp(/[a-zA-Z\s]/); for(var i=0; i<str.length; i++){ if(patt.test(str[i])) txt += str[i]; } $('.string').val(txt); numChar = $('.string').val().length; $('.contador').text(20-numChar); if(numChar>=20){ $('.cont_campo .msn') .text('Oops, you can not type more than 20 characters.') .fadeOut() .fadeIn(); if(numChar>20)lampada.css('opacity',.4); }else{ if(e.which != 13) $('.msn').fadeOut(); lampada.css('opacity',1);					 }; if(numChar<1) lampada.css('opacity',.4); if(numChar > 0){  $('.string').addClass('configInput'); } else {  $('.string').removeClass('configInput'); } }).keypress(function(e) { if(e.which == 13) animate.gerarGIF(); }); },gerarGIF: function(){ var str = $('.string').val().trim(); if(str.length < 1 || str == " "){ $('.cont_campo .msn') .text('Please type!') .fadeOut() .fadeIn(); lampada.css('opacity',.4); $('.string').val(''); }else if(str.length > 20){ $('.cont_campo .msn') .text('Oops , You CAN not DigiTar More than 20 characters.') .fadeOut() .fadeIn(); lampada.css('opacity',.4); }else{ $('#gif').attr('src', ''); $('.bt_voltar').fadeIn(); $('.cont_campo').css('display','none');		 $('.interferencia').show(); if($(window).width()<600) $('.cont_follow').css('display','none');	var num_inter = 10, animaInter = setInterval(function(){ $('.interferencia').css({'background-image':'url(assets/img/interferencia/inter_0' + num_inter + '.png)'}); num_inter++;				 if(num_inter>45){ num_inter=10 } },40);  var img = new Image(); $.ajax({ method: "GET", headers: {  'Content-Type':'application/json' }, url: "https://www.richardds.com.br/projetos/e9midia/StrangersThings/v2/gerador/gif.php", async:true, dataType: 'json', statusCode: { 404: function() { alert( "page not found" ); } }, data: { text : str},		   success: function(data){ $('#gif').attr('src', data.gifUrl);		console.log(data);		 $('.cont_result, .escurecer').show(); setTimeout(function(){ $('.interferencia').fadeOut(); clearInterval(animaInter); },200); var  fb_href  = "javascript:share_prompt('" + data.gifUrl + "')", tw_share = "http://strangergif.com/share/twitter-auth.php?status=Stranger%20Things&image=" + data.gifUrl; $('.fb').attr('onclick', fb_href); $('.tw').attr('href', tw_share); $('.dw').attr('href', data.gifUrl); video = data.mp4Url; } }); } }, voltar: function(){ $('.cont_result, .escurecer').hide(); $('.cont_campo').fadeIn();		 $('.bt_voltar').fadeOut();		 animate.zerar(); $('.string').focus(); $('.send_box').hide(); }, zerar:function(){ $('.string, .email') .removeClass('configInput') .val(''); $('.contador').text('20'); $('.cont_campo_email, .cont_campo .msn').hide(); $('.cce_1').show();	 lampada.css('opacity',.4);	}}
var dispositivo = {app_insta: function(){var IS_IPAD = navigator.userAgent.match(/iPad/i) != null,IS_IPHONE = !IS_IPAD && ((navigator.userAgent.match(/iPhone/i) != null) || (navigator.userAgent.match(/iPod/i) != null)),IS_IOS = IS_IPAD || IS_IPHONE,IS_ANDROID = !IS_IOS && navigator.userAgent.match(/android/i) != null,IS_MOBILE = IS_IOS || IS_ANDROID;if (IS_IOS){window.location = 'instagram://instagram.com/_n/mainfeed/#Intent;scheme=https;end';
}else if (IS_ANDROID){ window.location = 'intent://instagram.com/_n/mainfeed/#Intent;scheme=https;end';}}} 
$(function(){animate.entrada();$('.conteudo').css({'background-image':'url(assets/img/bg.jpg)'});$('.ig').click(function(e) {animate.zerar();$('.cont_result').hide();$('.send_box').fadeIn();$('.email').focus();$('.icone, .texto').hide();$('.ic_ig, .tt_ig').show();});$('.wa').click(function(e) {animate.zerar();$('.icone, .texto').hide();$('.ic_wa, .tt_wa').show();$('.cont_result').hide();$('.send_box').fadeIn();$('.email').focus();});$('.bt_ok').on("click", function(){$('.cont_campo_email').fadeOut();$('.cce_2').fadeIn();$.ajax({method: "POST",headers: { 'Content-Type':'application/json'},url: "http://www.strangergif.com:8084/emails",async:true,dataType: 'json',statusCode: {404: function() {alert( "page not found" );}},data: JSON.stringify( {"to": $('.email').val(), "url" : video}),		  success: function(data){$('.cont_campo_email').fadeOut();$('.cce_3').fadeIn();}});});$('.bt_fechar').click(function(e) {$('.send_box').hide();$('.cont_result').fadeIn();		animate.zerar();});})